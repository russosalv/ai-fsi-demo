"use strict";(self.webpackChunkbanking_poc=self.webpackChunkbanking_poc||[]).push([[205],{205:(P,l,a)=>{a.r(l),a.d(l,{LoginComponent:()=>x});var t=a(4341),g=a(2881),n=a(1360),d=a(4796),c=a(2297);function p(e,s){1&e&&(n.j41(0,"span"),n.EFF(1,"Il codice fiscale \xe8 obbligatorio"),n.k0s())}function m(e,s){1&e&&(n.j41(0,"span"),n.EFF(1," Il codice fiscale deve essere di 16 caratteri "),n.k0s())}function u(e,s){if(1&e&&(n.j41(0,"div",16),n.DNE(1,p,2,0,"span",13)(2,m,2,0,"span",13),n.k0s()),2&e){const r=n.XpG();n.R7$(),n.Y8G("ngIf",null==r.taxCode||null==r.taxCode.errors?null:r.taxCode.errors.required),n.R7$(),n.Y8G("ngIf",(null==r.taxCode||null==r.taxCode.errors?null:r.taxCode.errors.minlength)||(null==r.taxCode||null==r.taxCode.errors?null:r.taxCode.errors.maxlength))}}function f(e,s){1&e&&(n.j41(0,"span"),n.EFF(1,"La password \xe8 obbligatoria"),n.k0s())}function _(e,s){if(1&e&&(n.j41(0,"div",16),n.DNE(1,f,2,0,"span",13),n.k0s()),2&e){const r=n.XpG();n.R7$(),n.Y8G("ngIf",null==r.password||null==r.password.errors?null:r.password.errors.required)}}function C(e,s){if(1&e&&(n.j41(0,"div",17),n.EFF(1),n.k0s()),2&e){const r=n.XpG();n.R7$(),n.SpI(" ",r.errorMessage," ")}}function h(e,s){1&e&&(n.j41(0,"span",18),n.EFF(1,"\u23f3"),n.k0s())}function M(e,s){1&e&&(n.j41(0,"span"),n.EFF(1,"Accedi"),n.k0s())}let x=(()=>{class e{constructor(r,i,o){this.formBuilder=r,this.authService=i,this.router=o,this.isLoading=!1,this.errorMessage="",this.loginForm=this.formBuilder.group({taxCode:["",[t.k0.required,t.k0.minLength(16),t.k0.maxLength(16)]],password:["",[t.k0.required,t.k0.minLength(1)]]})}onSubmit(){if(this.loginForm.valid){this.isLoading=!0,this.errorMessage="";const r={taxCode:this.loginForm.value.taxCode.toUpperCase(),password:this.loginForm.value.password};this.authService.login(r).subscribe({next:i=>{this.isLoading=!1,i.success?this.router.navigate(["/home"]):this.errorMessage=i.message||"Errore durante il login"},error:i=>{this.isLoading=!1,this.errorMessage="Errore di connessione. Riprova pi\xf9 tardi.",console.error("Login error:",i)}})}else this.markFormGroupTouched()}markFormGroupTouched(){Object.keys(this.loginForm.controls).forEach(r=>{this.loginForm.get(r)?.markAsTouched()})}get taxCode(){return this.loginForm.get("taxCode")}get password(){return this.loginForm.get("password")}static{this.\u0275fac=function(i){return new(i||e)(n.rXU(t.ok),n.rXU(d.u),n.rXU(c.Ix))}}static{this.\u0275cmp=n.VBU({type:e,selectors:[["app-login"]],decls:36,vars:11,consts:[[1,"login-container"],[1,"login-card"],[1,"login-header"],[1,"login-form",3,"ngSubmit","formGroup"],[1,"form-group"],["for","taxCode"],["type","text","id","taxCode","formControlName","taxCode","placeholder","Inserisci il tuo codice fiscale","maxlength","16",1,"form-control",2,"text-transform","uppercase"],["class","error-message",4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","placeholder","Inserisci la tua password",1,"form-control"],["class","error-message global-error",4,"ngIf"],["type","submit",1,"btn-primary",3,"disabled"],["class","loading-spinner",4,"ngIf"],[4,"ngIf"],[1,"demo-info"],[1,"demo-user"],[1,"error-message"],[1,"error-message","global-error"],[1,"loading-spinner"]],template:function(i,o){1&i&&(n.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),n.EFF(4,"\u{1f3e6} Banking Portal"),n.k0s(),n.j41(5,"p"),n.EFF(6,"Accedi al tuo conto"),n.k0s()(),n.j41(7,"form",3),n.bIt("ngSubmit",function(){return o.onSubmit()}),n.j41(8,"div",4)(9,"label",5),n.EFF(10,"Codice Fiscale"),n.k0s(),n.nrm(11,"input",6),n.DNE(12,u,3,2,"div",7),n.k0s(),n.j41(13,"div",4)(14,"label",8),n.EFF(15,"Password"),n.k0s(),n.nrm(16,"input",9),n.DNE(17,_,2,1,"div",7),n.k0s(),n.DNE(18,C,2,1,"div",10),n.j41(19,"button",11),n.DNE(20,h,2,0,"span",12)(21,M,2,0,"span",13),n.k0s()(),n.j41(22,"div",14)(23,"h3"),n.EFF(24,"\u{1f464} Utenti di prova:"),n.k0s(),n.j41(25,"div",15)(26,"strong"),n.EFF(27,"Mario Rossi:"),n.k0s(),n.EFF(28," RSSMRA80A01H501Z "),n.k0s(),n.j41(29,"div",15)(30,"strong"),n.EFF(31,"Giulia Bianchi:"),n.k0s(),n.EFF(32," BNCGLI85M15F205W "),n.k0s(),n.j41(33,"p")(34,"em"),n.EFF(35,"Password: qualsiasi valore"),n.k0s()()()()()),2&i&&(n.R7$(7),n.Y8G("formGroup",o.loginForm),n.R7$(4),n.AVh("error",(null==o.taxCode?null:o.taxCode.invalid)&&(null==o.taxCode?null:o.taxCode.touched)),n.R7$(),n.Y8G("ngIf",(null==o.taxCode?null:o.taxCode.invalid)&&(null==o.taxCode?null:o.taxCode.touched)),n.R7$(4),n.AVh("error",(null==o.password?null:o.password.invalid)&&(null==o.password?null:o.password.touched)),n.R7$(),n.Y8G("ngIf",(null==o.password?null:o.password.invalid)&&(null==o.password?null:o.password.touched)),n.R7$(),n.Y8G("ngIf",o.errorMessage),n.R7$(),n.Y8G("disabled",o.isLoading),n.R7$(),n.Y8G("ngIf",o.isLoading),n.R7$(),n.Y8G("ngIf",!o.isLoading))},dependencies:[g.MD,g.bT,t.X1,t.qT,t.me,t.BC,t.cb,t.tU,t.j4,t.JD],styles:[".login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);padding:20px}.login-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 20px 40px #0000001a;padding:40px;width:100%;max-width:420px;animation:_ngcontent-%COMP%_slideUp .6s ease-out}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.login-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:32px}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;color:#2d3748;margin-bottom:8px;font-weight:700}.login-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#718096;font-size:1rem;margin:0}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:24px}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#4a5568;margin-bottom:8px;font-size:.875rem}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:2px solid #e2e8f0;border-radius:8px;font-size:1rem;transition:all .2s ease;box-sizing:border-box}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control.error[_ngcontent-%COMP%]{border-color:#e53e3e;box-shadow:0 0 0 3px #e53e3e1a}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]::placeholder{color:#a0aec0}.login-form[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#e53e3e;font-size:.875rem;margin-top:6px}.login-form[_ngcontent-%COMP%]   .error-message.global-error[_ngcontent-%COMP%]{background:#fed7d7;border:1px solid #feb2b2;border-radius:6px;padding:12px;margin-bottom:20px;font-weight:500}.login-form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{width:100%;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:8px;padding:14px 20px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;gap:8px}.login-form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px);box-shadow:0 8px 20px #667eea4d}.login-form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:active{transform:translateY(0)}.login-form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed;transform:none}.login-form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.demo-info[_ngcontent-%COMP%]{margin-top:32px;padding:20px;background:#f7fafc;border-radius:8px;border-left:4px solid #667eea}.demo-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 12px;color:#2d3748;font-size:1rem;font-weight:600}.demo-info[_ngcontent-%COMP%]   .demo-user[_ngcontent-%COMP%]{margin-bottom:8px;font-size:.875rem;color:#4a5568}.demo-info[_ngcontent-%COMP%]   .demo-user[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#2d3748}.demo-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:12px 0 0;font-size:.875rem;color:#718096}@media (max-width: 480px){.login-container[_ngcontent-%COMP%]{padding:16px}.login-card[_ngcontent-%COMP%]{padding:24px}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.75rem}}"]})}}return e})()}}]);